<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pay Timer System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="timer-card">
            <h1>Pay Timer</h1>
            
            <div id="inputSection">
                <div class="input-group">
                    <label for="nameInput">Name</label>
                    <input type="text" id="nameInput" placeholder="Enter name">
                </div>
                
                <div class="input-group">
                    <label for="numberInput">Number (Ã—5 seconds)</label>
                    <input type="number" id="numberInput" placeholder="Enter number" min="1">
                </div>
                
                <button id="startBtn" class="btn btn-start">Start Timer</button>
            </div>
            
            <div id="timerSection" class="hidden">
                <div class="timer-info">
                    <h2 id="displayName"></h2>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                </div>
                
                <div class="timer-display">
                    <span id="timeDisplay">00:00</span>
                </div>
                
                <div class="button-group">
                    <button id="pauseBtn" class="btn btn-pause">Pause</button>
                    <button id="resumeBtn" class="btn btn-resume hidden">Resume</button>
                    <button id="resetBtn" class="btn btn-reset">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <audio id="alarmSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjGB0fPTgjMGHm7A7+OZURE" type="audio/wav">
    </audio>

    <script>
        const nameInput = document.getElementById('nameInput');
        const numberInput = document.getElementById('numberInput');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resumeBtn = document.getElementById('resumeBtn');
        const resetBtn = document.getElementById('resetBtn');
        const inputSection = document.getElementById('inputSection');
        const timerSection = document.getElementById('timerSection');
        const displayName = document.getElementById('displayName');
        const timeDisplay = document.getElementById('timeDisplay');
        const progressFill = document.getElementById('progressFill');
        const alarmSound = document.getElementById('alarmSound');

        let timeLeft = 0;
        let totalTime = 0;
        let timerInterval = null;
        let isPaused = false;

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function updateDisplay() {
            timeDisplay.textContent = formatTime(timeLeft);
            const progress = totalTime > 0 ? ((totalTime - timeLeft) / totalTime) * 100 : 0;
            progressFill.style.width = progress + '%';
        }

        function playAlarm() {
            alarmSound.currentTime = 0;
            alarmSound.play().catch(e => console.log('Audio play failed:', e));
        }

        function startTimer() {
            const name = nameInput.value.trim();
            const number = parseInt(numberInput.value);

            if (!name || !number || number <= 0) {
                alert('Please enter a valid name and positive number');
                return;
            }

            totalTime = number * 5;
            timeLeft = totalTime;
            displayName.textContent = name;

            inputSection.classList.add('hidden');
            timerSection.classList.remove('hidden');
            pauseBtn.classList.remove('hidden');
            resumeBtn.classList.add('hidden');

            updateDisplay();
            runTimer();
        }

        function runTimer() {
            timerInterval = setInterval(() => {
                if (!isPaused && timeLeft > 0) {
                    timeLeft--;
                    updateDisplay();

                    if (timeLeft === 0) {
                        clearInterval(timerInterval);
                        playAlarm();
                        alert('Timer finished!');
                    }
                }
            }, 1000);
        }

        function pauseTimer() {
            isPaused = true;
            pauseBtn.classList.add('hidden');
            resumeBtn.classList.remove('hidden');
        }

        function resumeTimer() {
            isPaused = false;
            pauseBtn.classList.remove('hidden');
            resumeBtn.classList.add('hidden');
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 0;
            totalTime = 0;
            isPaused = false;
            nameInput.value = '';
            numberInput.value = '';

            timerSection.classList.add('hidden');
            inputSection.classList.remove('hidden');
        }

        startBtn.addEventListener('click', startTimer);
        pauseBtn.addEventListener('click', pauseTimer);
        resumeBtn.addEventListener('click', resumeTimer);
        resetBtn.addEventListener('click', resetTimer);

        numberInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') startTimer();
        });
    </script>
</body>
</html>
